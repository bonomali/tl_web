{% extends "page.html" %}

{% from "macros/blog.html" import render_blog_post %}
{% from "macros/blog.html" import render_blog_sibling_nav %}
{% from "macros/pagination.html" import render_pagination %}
{% block title %}{{ this.title }}{% endblock %}
{% block content %}
  <div class="content_box">
    <h2>{{ this.title }}:</h2>
    {{ this.body }}
    {% for child in this.pagination.items.order_by('position', '-pub_date') %}
      <p>
        <a href="{{ child.path }}"> {{ child.title }}</a></a>
      </p>
    {% endfor %}
    {{ render_blog_sibling_nav(this) }}
    {% if this.pagination.pages > 1 %}
      <p>More blog posts</p>
      {{ render_pagination(this.pagination) }}
    {% endif %}
  </div>
{% endblock content %}
